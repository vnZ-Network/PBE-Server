//	---------------------------------------------------
//	--		Copyright:PERFECT WORLD
//	--		Modified:2011/11/01
//	--		Author:???
//	--		Class:	DEAD-baoxiang.s
//	--		TaskID:??
//	----------------------------------------------------

	function OnDead(){
		
		SubPlayerInfo( -1, "item", 44543,1 )
		SubPlayerInfo( -1, "item", 44544,1 )
		SubPlayerInfo( -1, "item", 44545,1 )
		SubPlayerInfo( -1, "item", 44546,1 )
		SubPlayerInfo( -1, "item", 44547,1 )
		SubPlayerInfo( -1, "item", 44548,1 )
		SubPlayerInfo( -1, "item", 44549,1 )
		SubPlayerInfo( -1, "item", 44550,1 )
		SubPlayerInfo( -1, "item", 44551,1 )
		SubPlayerInfo( -1, "item", 44552,1 )
		RemoveStatusByID( -1, 6483 )
		RemoveStatusByID( -1, 6484 )
		RemoveStatusByID( -1, 6485 )
		RemoveStatusByID( -1, 6486 )
		
		$level = GetPlayerInfo( -1, "level" )
		if $level == 30 
			AddPlayerInfo( -1, "exp", 2998854  )
		endif
		if $level == 31 
			AddPlayerInfo( -1, "exp", 3127362  )
		endif
		if $level == 32 
			AddPlayerInfo( -1, "exp", 3252450  )
		endif
		if $level == 33 
			AddPlayerInfo( -1, "exp", 3381683  )
		endif
		if $level == 34 
			AddPlayerInfo( -1, "exp", 3507525  )
		endif
		if $level == 35 
			AddPlayerInfo( -1, "exp", 3633765  )
		endif
		if $level == 36 
			AddPlayerInfo( -1, "exp", 3764193  )
		endif
		if $level == 37 
			AddPlayerInfo( -1, "exp", 3891273  )
		endif
		if $level == 38 
			AddPlayerInfo( -1, "exp", 4022570  )
		endif
		if $level == 39 
			AddPlayerInfo( -1, "exp", 4150548  )
		endif
		if $level == 40 
			AddPlayerInfo( -1, "exp", 4278996  )
		endif
		if $level == 41 
			AddPlayerInfo( -1, "exp", 4490990  )
		endif
		if $level == 42 
			AddPlayerInfo( -1, "exp", 4703483  )
		endif
		if $level == 43 
			AddPlayerInfo( -1, "exp", 4916489  )
		endif
		if $level == 44 
			AddPlayerInfo( -1, "exp", 5130024  )
		endif
		if $level == 45 
			AddPlayerInfo( -1, "exp", 5344101  )
		endif
		if $level == 46 
			AddPlayerInfo( -1, "exp", 5558735  )
		endif
		if $level == 47 
			AddPlayerInfo( -1, "exp", 5773940  )
		endif
		if $level == 48 
			AddPlayerInfo( -1, "exp", 5989730  )
		endif
		if $level == 49 
			AddPlayerInfo( -1, "exp", 6206121  )
		endif
		if $level == 50 
			AddPlayerInfo( -1, "exp", 6423126  )
		endif
		if $level == 51 
			AddPlayerInfo( -1, "exp", 6640760  )
		endif
		if $level == 52 
			AddPlayerInfo( -1, "exp", 6859037  )
		endif
		if $level == 53 
			AddPlayerInfo( -1, "exp", 7077971  )
		endif
		if $level == 54 
			AddPlayerInfo( -1, "exp", 7297578  )
		endif
		if $level == 55 
			AddPlayerInfo( -1, "exp", 7517871  )
		endif
		if $level == 56 
			AddPlayerInfo( -1, "exp", 7738865  )
		endif
		if $level == 57 
			AddPlayerInfo( -1, "exp", 7960574  )
		endif
		if $level == 58 
			AddPlayerInfo( -1, "exp", 8183012  )
		endif
		if $level == 59 
			AddPlayerInfo( -1, "exp", 8406195  )
		endif
		if $level == 60 
			AddPlayerInfo( -1, "exp", 8630136  )
		endif
		if $level == 61 
			AddPlayerInfo( -1, "exp", 8877503  )
		endif
		if $level == 62 
			AddPlayerInfo( -1, "exp", 9121881  )
		endif
		if $level == 63 
			AddPlayerInfo( -1, "exp", 9370837  )
		endif
		if $level == 64 
			AddPlayerInfo( -1, "exp", 9616833  )
		endif
		if $level == 65 
			AddPlayerInfo( -1, "exp", 9863660  )
		endif
		if $level == 66 
			AddPlayerInfo( -1, "exp", 10115106 )
		endif
		if $level == 67 
			AddPlayerInfo( -1, "exp", 10363637 )
		endif
		if $level == 68 
			AddPlayerInfo( -1, "exp", 10616816 )
		endif
		if $level == 69 
			AddPlayerInfo( -1, "exp", 10867109 )
		endif
		if $level == 70 
			AddPlayerInfo( -1, "exp", 11118303 )
		endif
		if $level == 71 
			AddPlayerInfo( -1, "exp", 11393067 )
		endif
		if $level == 72 
			AddPlayerInfo( -1, "exp", 11668763 )
		endif
		if $level == 73 
			AddPlayerInfo( -1, "exp", 11945404 )
		endif
		if $level == 74 
			AddPlayerInfo( -1, "exp", 12223005 )
		endif
		if $level == 75 
			AddPlayerInfo( -1, "exp", 12497805 )
		endif
		if $level == 76 
			AddPlayerInfo( -1, "exp", 12777369 )
		endif
		if $level == 77 
			AddPlayerInfo( -1, "exp", 13057937 )
		endif
		if $level == 78 
			AddPlayerInfo( -1, "exp", 13339522 )
		endif
		if $level == 79 
			AddPlayerInfo( -1, "exp", 13622139 )
		endif
		if $level == 80 
			AddPlayerInfo( -1, "exp", 13902027 )
		endif
		if $level == 81 
			AddPlayerInfo( -1, "exp", 14209404 )
		endif
		if $level == 82 
			AddPlayerInfo( -1, "exp", 14514081 )
		endif
		if $level == 83 
			AddPlayerInfo( -1, "exp", 14819848 )
		endif
		if $level == 84 
			AddPlayerInfo( -1, "exp", 15126719 )
		endif
		if $level == 85 
			AddPlayerInfo( -1, "exp", 15434708 )
		endif
		if $level == 86 
			AddPlayerInfo( -1, "exp", 15747605 )
		endif
		if $level == 87 
			AddPlayerInfo( -1, "exp", 16057874 )
		endif
		if $level == 88 
			AddPlayerInfo( -1, "exp", 16369304 )
		endif
		if $level == 89 
			AddPlayerInfo( -1, "exp", 16681911 )
		endif
		if $level == 90 
			AddPlayerInfo( -1, "exp", 20118047 )
		endif
		if $level == 91 
			AddPlayerInfo( -1, "exp", 20493456 )
		endif
		if $level == 92 
			AddPlayerInfo( -1, "exp", 20873861 )
		endif
		if $level == 93 
			AddPlayerInfo( -1, "exp", 21251723 )
		endif
		if $level == 94 
			AddPlayerInfo( -1, "exp", 21630834 )
		endif
		if $level == 95 
			AddPlayerInfo( -1, "exp", 22014983 )
		endif
		if $level == 96 
			AddPlayerInfo( -1, "exp", 22396632 )
		endif
		if $level == 97 
			AddPlayerInfo( -1, "exp", 22783349 )
		endif
		if $level == 98 
			AddPlayerInfo( -1, "exp", 23167595 )
		endif
		if $level == 99 
			AddPlayerInfo( -1, "exp", 23553162 )
		endif
		if $level == 100
			AddPlayerInfo( -1, "exp", 27609849 )
		endif
		if $level == 101
			AddPlayerInfo( -1, "exp", 28100037 )
		endif
		if $level == 102
			AddPlayerInfo( -1, "exp", 28595364 )
		endif
		if $level == 103
			AddPlayerInfo( -1, "exp", 29088293 )
		endif
		if $level == 104
			AddPlayerInfo( -1, "exp", 29586390 )
		endif
		if $level == 105
			AddPlayerInfo( -1, "exp", 30082118 )
		endif
		if $level == 106
			AddPlayerInfo( -1, "exp", 30579266 )
		endif
		if $level == 107
			AddPlayerInfo( -1, "exp", 31081625 )
		endif
		if $level == 108
			AddPlayerInfo( -1, "exp", 31581658 )
		endif
		if $level == 109
			AddPlayerInfo( -1, "exp", 32086931 )
		endif
		if $level == 110
			AddPlayerInfo( -1, "exp", 32589906 )
		endif
		if $level == 111
			AddPlayerInfo( -1, "exp", 40209533 )
		endif
		if $level == 112
			AddPlayerInfo( -1, "exp", 40911893 )
		endif
		if $level == 113
			AddPlayerInfo( -1, "exp", 41617296 )
		endif
		if $level == 114
			AddPlayerInfo( -1, "exp", 42325772 )
		endif
		if $level == 115
			AddPlayerInfo( -1, "exp", 43037348 )
		endif
		if $level == 116
			AddPlayerInfo( -1, "exp", 43752053 )
		endif
		if $level == 117
			AddPlayerInfo( -1, "exp", 44469917 )
		endif
		if $level == 118
			AddPlayerInfo( -1, "exp", 45190968 )
		endif
		if $level == 119
			AddPlayerInfo( -1, "exp", 45915236 )
		endif
		if $level == 120
			AddPlayerInfo( -1, "exp", 46642748 )
		endif
		if $level == 121
			AddPlayerInfo( -1, "exp", 47430166 )
		endif
		if $level == 122
			AddPlayerInfo( -1, "exp", 48217111 )
		endif
		if $level == 123
			AddPlayerInfo( -1, "exp", 49007387 )
		endif
		if $level == 124
			AddPlayerInfo( -1, "exp", 49804799 )
		endif
		if $level == 125
			AddPlayerInfo( -1, "exp", 50601824 )
		endif
		if $level == 126
			AddPlayerInfo( -1, "exp", 51406042 )
		endif
		if $level == 127
			AddPlayerInfo( -1, "exp", 52209931 )
		endif
		if $level == 128
			AddPlayerInfo( -1, "exp", 53017295 )
		endif
		if $level == 129
			AddPlayerInfo( -1, "exp", 53831939 )
		endif
		if $level == 130
			AddPlayerInfo( -1, "exp", 54646340 )
		endif
		
		$Flv = GetFieldLevel(-1)
		if $Flv == 1 
			AddFieldExp(-1,962676 )
		endif
		if $Flv == 2 
			AddFieldExp(-1,989857 )
		endif
		if $Flv == 3 
			AddFieldExp(-1,1014774)
		endif
		if $Flv == 4 
			AddFieldExp(-1,1041955)
		endif
		if $Flv == 5 
			AddFieldExp(-1,1069137)
		endif
		if $Flv == 6 
			AddFieldExp(-1,1096318)
		endif
		if $Flv == 7 
			AddFieldExp(-1,1121234)
		endif
		if $Flv == 8 
			AddFieldExp(-1,1148416)
		endif
		if $Flv == 9 
			AddFieldExp(-1,1175597)
		endif
		if $Flv == 10
			AddFieldExp(-1,1200514)
		endif
		if $Flv == 11
			AddFieldExp(-1,1227695)
		endif
		if $Flv == 12
			AddFieldExp(-1,1252611)
		endif
		if $Flv == 13
			AddFieldExp(-1,1279793)
		endif
		if $Flv == 14
			AddFieldExp(-1,1304709)
		endif
		if $Flv == 15
			AddFieldExp(-1,1331891)
		endif
		if $Flv == 16
			AddFieldExp(-1,1356807)
		endif
		if $Flv == 17
			AddFieldExp(-1,1381723)
		endif
		if $Flv == 18
			AddFieldExp(-1,1408905)
		endif
		if $Flv == 19
			AddFieldExp(-1,1433821)
		endif
		if $Flv == 20
			AddFieldExp(-1,1485919)
		endif
		if $Flv == 21
			AddFieldExp(-1,1540282)
		endif
		if $Flv == 22
			AddFieldExp(-1,1592379)
		endif
		if $Flv == 23
			AddFieldExp(-1,1644477)
		endif
		if $Flv == 24
			AddFieldExp(-1,1696575)
		endif
		if $Flv == 25
			AddFieldExp(-1,1748673)
		endif
		if $Flv == 26
			AddFieldExp(-1,1800770)
		endif
		if $Flv == 27
			AddFieldExp(-1,1852868)
		endif
		if $Flv == 28
			AddFieldExp(-1,1904966)
		endif
		if $Flv == 29
			AddFieldExp(-1,1957064)
		endif
		if $Flv == 30
			AddFieldExp(-1,2006896)
		endif
		if $Flv == 31
			AddFieldExp(-1,2058994)
		endif
		if $Flv == 32
			AddFieldExp(-1,2108827)
		endif
		if $Flv == 33
			AddFieldExp(-1,2160924)
		endif
		if $Flv == 34
			AddFieldExp(-1,2210757)
		endif
		if $Flv == 35
			AddFieldExp(-1,2260590)
		endif
		if $Flv == 36
			AddFieldExp(-1,2312688)
		endif
		if $Flv == 37
			AddFieldExp(-1,2362520)
		endif
		if $Flv == 38
			AddFieldExp(-1,2412353)
		endif
		if $Flv == 39
			AddFieldExp(-1,2462185)
		endif
		if $Flv == 40
			AddFieldExp(-1,2539200)
		endif
		if $Flv == 41
			AddFieldExp(-1,2613948)
		endif
		if $Flv == 42
			AddFieldExp(-1,2690963)
		endif
		if $Flv == 43
			AddFieldExp(-1,2765712)
		endif
		if $Flv == 44
			AddFieldExp(-1,2842726)
		endif
		if $Flv == 45
			AddFieldExp(-1,2917475)
		endif
		if $Flv == 46
			AddFieldExp(-1,2992224)
		endif
		if $Flv == 47
			AddFieldExp(-1,3066972)
		endif
		if $Flv == 48
			AddFieldExp(-1,3141721)
		endif
		if $Flv == 49
			AddFieldExp(-1,3216470)
		endif
		if $Flv == 50
			AddFieldExp(-1,3288954)
		endif
		if $Flv == 51
			AddFieldExp(-1,3363703)
		endif
		if $Flv == 52
			AddFieldExp(-1,3436187)
		endif
		if $Flv == 53
			AddFieldExp(-1,3510936)
		endif
		if $Flv == 54
			AddFieldExp(-1,3583420)
		endif
		if $Flv == 55
			AddFieldExp(-1,3655904)
		endif
		if $Flv == 56
			AddFieldExp(-1,3728388)
		endif
		if $Flv == 57
			AddFieldExp(-1,3800871)
		endif
		if $Flv == 58
			AddFieldExp(-1,3873355)
		endif
		if $Flv == 59
			AddFieldExp(-1,3943574)
		endif
		if $Flv == 60
			AddFieldExp(-1,4040974)
		endif
		
		$monid = GetMonsterTemplateID(-1)
		$xunhuan = 0
		if $monid == 32350
			BC( "chat", "player", -1, "You got a Common Chest. Please try your luck next time!")
			BC( "screen", "player", -1, "You got a Common Chest. Please try your luck next time!")
			$xunhuan = 15
		endif
		if $monid == 32351
			BC( "chat", "player", -1, "You won the only Champion Chest! Congratulations!")
			BC( "screen", "player", -1, "You won the only Champion Chest! Congratulations!")
			$xunhuan = 25
		endif
		if $monid == 32352
			BC( "chat", "player", -1, "You got a Rare Chest. Your performance is better than many others!")
			BC( "screen", "player", -1, "You got a Rare Chest. Your performance is better than many others!")
			$xunhuan = 20
		endif
		
		$i = 0
		while $i < $xunhuan
			$i = $i + 1
			$radaward = RandomNumber ( 1 , 10000 )
			if $radaward > 0      
				if $radaward <= 2        
					AddPlayerInfo( -1, "item", 62597 , 1)
				endif
			endif
			if $radaward > 2      
				if $radaward <= 3        
					AddPlayerInfo( -1, "item", 62545 , 1)
				endif
			endif
			if $radaward > 3      
				if $radaward <= 4        
					AddPlayerInfo( -1, "item", 62059 , 1)
				endif
			endif
			if $radaward > 4      
				if $radaward <= 6        
					AddPlayerInfo( -1, "item", 62007 , 1)
				endif
			endif
			if $radaward > 6      
				if $radaward <= 8        
					AddPlayerInfo( -1, "item", 37031 , 1)
				endif
			endif
			if $radaward > 8      
				if $radaward <= 10       
					AddPlayerInfo( -1, "item", 37032 , 1)
				endif
			endif
			if $radaward > 10     
				if $radaward <= 3510     
					AddPlayerInfo( -1, "item", 59103 , 1)
						$flv = GetFieldLevel(-1)
						if $flv > 0
							AddPlayerInfo( -1, "item", 12827 , 1)
						endif
				endif
			endif
			if $radaward > 3510   
				if $radaward <= 6510     
					AddPlayerInfo( -1, "item", 1     , 10)
				endif
			endif
			if $radaward > 6510   
				if $radaward <= 8510     
					AddPlayerInfo( -1, "item", 64244 , 1)
				endif
			endif
			if $radaward > 8510   
				if $radaward <= 8910     
					$bubang = IsDiamondVIP(-1)
					if $bubang == 1
						AddPlayerInfo( -1, "item", 9 , 1)
					endif
					if $bubang == 0
						AddPlayerInfo( -1, "item", 2 , 1)
					endif
				endif
			endif
			if $radaward > 8910   
				if $radaward <= 9210     
					$bubang = IsDiamondVIP(-1)
					if $bubang == 1
						AddPlayerInfo( -1, "item", 2221  , 1)
					endif
					if $bubang == 0
						AddPlayerInfo( -1, "item", 2223  , 1)
					endif
				endif
			endif
			if $radaward > 9210   
				if $radaward <= 9710     
					AddPlayerInfo( -1, "item", 60503 , 1)
				endif
			endif
			if $radaward > 9710   
				if $radaward <= 9750     
					AddPlayerInfo( -1, "item", 6186  , 1)
				endif
			endif
			if $radaward > 9750   
				if $radaward <= 9790     
					AddPlayerInfo( -1, "item", 6196  , 1)
				endif
			endif
			if $radaward > 9790   
				if $radaward <= 9830     
					AddPlayerInfo( -1, "item", 63065 , 1)
				endif
			endif
			if $radaward > 9830   
				if $radaward <= 9870     
					AddPlayerInfo( -1, "item", 63066 , 1)
				endif
			endif
			if $radaward > 9870   
				if $radaward <= 9910     
					AddPlayerInfo( -1, "item", 63067 , 1)
				endif
			endif
			if $radaward > 9910   
				if $radaward <= 9950        
					$bubang = IsDiamondVIP(-1)
					if $bubang == 1
						AddPlayerInfo( -1, "item", 63359 , 1)
					endif
					if $bubang == 0
						AddPlayerInfo( -1, "item", 60014  , 1)
					endif
				endif
			endif
			if $radaward > 9950   
				if $radaward <= 9990        
					$bubang = IsDiamondVIP(-1)
					if $bubang == 1
						AddPlayerInfo( -1, "item", 60493 , 1)
					endif
					if $bubang == 0
						AddPlayerInfo( -1, "item", 60501  , 1)
					endif
				endif
			endif
			if $radaward > 9990   
				if $radaward <= 10000          
					$bubang = IsDiamondVIP(-1)
					if $bubang == 1
						AddPlayerInfo( -1, "item", 60489 , 1)
					endif
					if $bubang == 0
						$big = RandomNumber ( 1 , 3 )
						if $big == 1
							AddPlayerInfo( -1, "item", 60504  , 1)
						endif
						if $big == 2
							AddPlayerInfo( -1, "item", 60505  , 1)
						endif
						if $big == 3
							AddPlayerInfo( -1, "item", 59556  , 1)
						endif
					endif
				endif
			endif
		endwhile
		
		FlyToMap(-1, 475, 77, 39)
		
	}