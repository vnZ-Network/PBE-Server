	--****************************************
	--
	--		Copyright:PERFECT WORLD
	--		Modified:2012/08/09
	--		Author:???
	--		Class: Lua
	--		AIName:AI_longdichuansong01.lua
	--		Backup:?????
	--****************************************


	function Event_OnTimer(nAI,nIndex, nCount)
    	local AI = GetMonsterAI(nAI)
--------------??????-------------------------------------------------    	
    if nIndex == 0 then
--?1??25?11962 
			AI:ScreenText("The Dragon Emperor's legion has retreated back through the portal to the catacombs, but don't relax just yet - there's sure to be more troops coming very soon!",2)
				AI:SummonMonsterByPos(11962, 115,160)
				AI:SummonMonsterByPos(11962, 115,162)
				AI:SummonMonsterByPos(11962, 115,164)
				AI:SummonMonsterByPos(11962, 115,168)
				AI:SummonMonsterByPos(11962, 115,170)
				AI:SummonMonsterByPos(11962, 117,160)
				AI:SummonMonsterByPos(11962, 117,162)
				AI:SummonMonsterByPos(11962, 127,164)
				AI:SummonMonsterByPos(11962, 117,168)
				AI:SummonMonsterByPos(11962, 117,170)
				AI:SummonMonsterByPos(11962, 119,160)
				AI:SummonMonsterByPos(11962, 119,162)
				AI:SummonMonsterByPos(11962, 119,164)
				AI:SummonMonsterByPos(11962, 119,168)
				AI:SummonMonsterByPos(11962, 119,170)
				AI:SummonMonsterByPos(11962, 121,160)
				AI:SummonMonsterByPos(11962, 121,162)
				AI:SummonMonsterByPos(11962, 121,164)
				AI:SummonMonsterByPos(11962, 121,168)
				AI:SummonMonsterByPos(11962, 121,170)
				AI:SummonMonsterByPos(11962, 123,160)
				AI:SummonMonsterByPos(11962, 123,162)
				AI:SummonMonsterByPos(11962, 123,164)
				AI:SummonMonsterByPos(11962, 123,168)
				AI:SummonMonsterByPos(11962, 123,170)
				
				AI:SetTimer(1,100000,1)
				AI:SetArray(9,100)
				AI:SetTimer(9,10000,9999)
		end
---------------------------------------------------------------------------    	
    if nIndex == 1 then
--?2??25?11962 
			AI:ScreenText("The Dragon Emperor's legion has retreated back through the portal to the catacombs, but don't relax just yet - there's sure to be more troops coming very soon!",2)
				AI:SummonMonsterByPos(11962, 100,160)
				AI:SummonMonsterByPos(11962, 100,162)
				AI:SummonMonsterByPos(11962, 100,164)
				AI:SummonMonsterByPos(11962, 100,168)
				AI:SummonMonsterByPos(11962, 100,170)
				AI:SummonMonsterByPos(11962, 102,160)
				AI:SummonMonsterByPos(11962, 102,162)
				AI:SummonMonsterByPos(11962, 102,164)
				AI:SummonMonsterByPos(11962, 102,168)
				AI:SummonMonsterByPos(11962, 102,170)
				AI:SummonMonsterByPos(11962, 104,160)
				AI:SummonMonsterByPos(11962, 104,162)
				AI:SummonMonsterByPos(11962, 104,164)
				AI:SummonMonsterByPos(11962, 104,168)
				AI:SummonMonsterByPos(11962, 104,170)
				AI:SummonMonsterByPos(11962, 106,160)
				AI:SummonMonsterByPos(11962, 106,162)
				AI:SummonMonsterByPos(11962, 106,164)
				AI:SummonMonsterByPos(11962, 106,168)
				AI:SummonMonsterByPos(11962, 106,170)
				AI:SummonMonsterByPos(11962, 108,160)
				AI:SummonMonsterByPos(11962, 108,162)
				AI:SummonMonsterByPos(11962, 108,164)
				AI:SummonMonsterByPos(11962, 108,168)
				AI:SummonMonsterByPos(11962, 108,170)
				
				AI:SetTimer(2,100000,1)
				AI:SetArray(9,100)
				AI:SetTimer(9,10000,9999)
		end		
---------------------------------------------------------------------------  		
    if nIndex == 2 then
--?3??25?11962 
				AI:ScreenText("The Dragon Emperor's legion has retreated back through the portal to the catacombs, but don't relax just yet - there's sure to be more troops coming very soon!",2)
				AI:SummonMonsterByPos(11962, 100,145)
				AI:SummonMonsterByPos(11962, 100,147)
				AI:SummonMonsterByPos(11962, 100,149)
				AI:SummonMonsterByPos(11962, 100,151)
				AI:SummonMonsterByPos(11962, 100,153)
				AI:SummonMonsterByPos(11962, 102,145)
				AI:SummonMonsterByPos(11962, 102,147)
				AI:SummonMonsterByPos(11962, 102,149)
				AI:SummonMonsterByPos(11962, 102,151)
				AI:SummonMonsterByPos(11962, 102,153)					
				AI:SummonMonsterByPos(11962, 104,145)
				AI:SummonMonsterByPos(11962, 104,147)
				AI:SummonMonsterByPos(11962, 104,149)
				AI:SummonMonsterByPos(11962, 104,151)
				AI:SummonMonsterByPos(11962, 104,153)
				AI:SummonMonsterByPos(11962, 106,145)
				AI:SummonMonsterByPos(11962, 106,147)
				AI:SummonMonsterByPos(11962, 106,149)
				AI:SummonMonsterByPos(11962, 106,151)
				AI:SummonMonsterByPos(11962, 106,153)
				AI:SummonMonsterByPos(11962, 108,145)
				AI:SummonMonsterByPos(11962, 108,147)
				AI:SummonMonsterByPos(11962, 108,149)
				AI:SummonMonsterByPos(11962, 108,151)
				AI:SummonMonsterByPos(11962, 108,153)
				
				AI:SetTimer(3,100000,1)
				AI:SetArray(9,100)
				AI:SetTimer(9,10000,9999)
		end		
---------------------------------------------------------------------------  				
    if nIndex == 3 then
--?4??25?11962 
			AI:ScreenText("The Dragon Emperor's legion has retreated back through the portal to the catacombs, but don't relax just yet - there's sure to be more troops coming very soon!",2)
				AI:SummonMonsterByPos(11962, 115,145)
				AI:SummonMonsterByPos(11962, 115,147)
				AI:SummonMonsterByPos(11962, 115,149)
				AI:SummonMonsterByPos(11962, 115,151)
				AI:SummonMonsterByPos(11962, 115,153)
				AI:SummonMonsterByPos(11962, 117,145)
				AI:SummonMonsterByPos(11962, 117,147)
				AI:SummonMonsterByPos(11962, 117,149)
				AI:SummonMonsterByPos(11962, 117,151)
				AI:SummonMonsterByPos(11962, 117,153)
				AI:SummonMonsterByPos(11962, 119,145)
				AI:SummonMonsterByPos(11962, 119,147)
				AI:SummonMonsterByPos(11962, 119,149)
				AI:SummonMonsterByPos(11962, 119,151)
				AI:SummonMonsterByPos(11962, 119,153)
				AI:SummonMonsterByPos(11962, 121,145)
				AI:SummonMonsterByPos(11962, 121,147)
				AI:SummonMonsterByPos(11962, 121,149)
				AI:SummonMonsterByPos(11962, 121,151)
				AI:SummonMonsterByPos(11962, 121,153)
				AI:SummonMonsterByPos(11962, 123,145)
				AI:SummonMonsterByPos(11962, 123,147)
				AI:SummonMonsterByPos(11962, 123,149)
				AI:SummonMonsterByPos(11962, 123,151)
				AI:SummonMonsterByPos(11962, 123,153)
				
				AI:SetArray(9,150)
				AI:SetTimer(9,10000,9999)
		end
---------------------------------------------------------------------------  				
    if nIndex == 4 then
--?1??25?11962 
			AI:ScreenText("The Dragon Emperor's legion has retreated back through the portal to the catacombs, but don't relax just yet - there's sure to be more troops coming very soon!",2)
				AI:SummonMonsterByPos(11962, 115,160)
				AI:SummonMonsterByPos(11962, 115,162)
				AI:SummonMonsterByPos(11962, 115,164)
				AI:SummonMonsterByPos(11962, 115,168)
				AI:SummonMonsterByPos(11962, 115,170)
				AI:SummonMonsterByPos(11962, 117,160)
				AI:SummonMonsterByPos(11962, 117,162)
				AI:SummonMonsterByPos(11962, 127,164)
				AI:SummonMonsterByPos(11962, 117,168)
				AI:SummonMonsterByPos(11962, 117,170)
				AI:SummonMonsterByPos(11962, 119,160)
				AI:SummonMonsterByPos(11962, 119,162)
				AI:SummonMonsterByPos(11962, 119,164)
				AI:SummonMonsterByPos(11962, 119,168)
				AI:SummonMonsterByPos(11962, 119,170)
				AI:SummonMonsterByPos(11962, 121,160)
				AI:SummonMonsterByPos(11962, 121,162)
				AI:SummonMonsterByPos(11962, 121,164)
				AI:SummonMonsterByPos(11962, 121,168)
				AI:SummonMonsterByPos(11962, 121,170)
				AI:SummonMonsterByPos(11962, 123,160)
				AI:SummonMonsterByPos(11962, 123,162)
				AI:SummonMonsterByPos(11962, 123,164)
				AI:SummonMonsterByPos(11962, 123,168)
				AI:SummonMonsterByPos(11962, 123,170)
				
				AI:SetTimer(5,100000,1)
				AI:SetArray(9,100)
				AI:SetTimer(9,10000,9999)
		end
---------------------------------------------------------------------------    	
    if nIndex == 5 then
--?2??25?11962 
			AI:ScreenText("The Dragon Emperor's legion has retreated back through the portal to the catacombs, but don't relax just yet - there's sure to be more troops coming very soon!",2)
				AI:SummonMonsterByPos(11962, 100,160)
				AI:SummonMonsterByPos(11962, 100,162)
				AI:SummonMonsterByPos(11962, 100,164)
				AI:SummonMonsterByPos(11962, 100,168)
				AI:SummonMonsterByPos(11962, 100,170)
				AI:SummonMonsterByPos(11962, 102,160)
				AI:SummonMonsterByPos(11962, 102,162)
				AI:SummonMonsterByPos(11962, 102,164)
				AI:SummonMonsterByPos(11962, 102,168)
				AI:SummonMonsterByPos(11962, 102,170)
				AI:SummonMonsterByPos(11962, 104,160)
				AI:SummonMonsterByPos(11962, 104,162)
				AI:SummonMonsterByPos(11962, 104,164)
				AI:SummonMonsterByPos(11962, 104,168)
				AI:SummonMonsterByPos(11962, 104,170)
				AI:SummonMonsterByPos(11962, 106,160)
				AI:SummonMonsterByPos(11962, 106,162)
				AI:SummonMonsterByPos(11962, 106,164)
				AI:SummonMonsterByPos(11962, 106,168)
				AI:SummonMonsterByPos(11962, 106,170)
				AI:SummonMonsterByPos(11962, 108,160)
				AI:SummonMonsterByPos(11962, 108,162)
				AI:SummonMonsterByPos(11962, 108,164)
				AI:SummonMonsterByPos(11962, 108,168)
				AI:SummonMonsterByPos(11962, 108,170)
				
				AI:SetTimer(6,100000,1)
				AI:SetArray(9,100)
				AI:SetTimer(9,10000,9999)
		end		
---------------------------------------------------------------------------  		
    if nIndex == 6 then
--?3??25?11962 
				AI:ScreenText("The Dragon Emperor's legion has retreated back through the portal to the catacombs, but don't relax just yet - there's sure to be more troops coming very soon!",2)
				AI:SummonMonsterByPos(11962, 100,145)
				AI:SummonMonsterByPos(11962, 100,147)
				AI:SummonMonsterByPos(11962, 100,149)
				AI:SummonMonsterByPos(11962, 100,151)
				AI:SummonMonsterByPos(11962, 100,153)
				AI:SummonMonsterByPos(11962, 102,145)
				AI:SummonMonsterByPos(11962, 102,147)
				AI:SummonMonsterByPos(11962, 102,149)
				AI:SummonMonsterByPos(11962, 102,151)
				AI:SummonMonsterByPos(11962, 102,153)					
				AI:SummonMonsterByPos(11962, 104,145)
				AI:SummonMonsterByPos(11962, 104,147)
				AI:SummonMonsterByPos(11962, 104,149)
				AI:SummonMonsterByPos(11962, 104,151)
				AI:SummonMonsterByPos(11962, 104,153)
				AI:SummonMonsterByPos(11962, 106,145)
				AI:SummonMonsterByPos(11962, 106,147)
				AI:SummonMonsterByPos(11962, 106,149)
				AI:SummonMonsterByPos(11962, 106,151)
				AI:SummonMonsterByPos(11962, 106,153)
				AI:SummonMonsterByPos(11962, 108,145)
				AI:SummonMonsterByPos(11962, 108,147)
				AI:SummonMonsterByPos(11962, 108,149)
				AI:SummonMonsterByPos(11962, 108,151)
				AI:SummonMonsterByPos(11962, 108,153)
				
				AI:SetTimer(7,100000,1)
				AI:SetArray(9,100)
				AI:SetTimer(9,10000,9999)
		end		
---------------------------------------------------------------------------  				
    if nIndex == 7 then
--?4??25?11962 
			AI:ScreenText("The Dragon Emperor's legion has retreated back through the portal to the catacombs, but don't relax just yet - there's sure to be more troops coming very soon!",2)
				AI:SummonMonsterByPos(11962, 115,145)
				AI:SummonMonsterByPos(11962, 115,147)
				AI:SummonMonsterByPos(11962, 115,149)
				AI:SummonMonsterByPos(11962, 115,151)
				AI:SummonMonsterByPos(11962, 115,153)
				AI:SummonMonsterByPos(11962, 117,145)
				AI:SummonMonsterByPos(11962, 117,147)
				AI:SummonMonsterByPos(11962, 117,149)
				AI:SummonMonsterByPos(11962, 117,151)
				AI:SummonMonsterByPos(11962, 117,153)
				AI:SummonMonsterByPos(11962, 119,145)
				AI:SummonMonsterByPos(11962, 119,147)
				AI:SummonMonsterByPos(11962, 119,149)
				AI:SummonMonsterByPos(11962, 119,151)
				AI:SummonMonsterByPos(11962, 119,153)
				AI:SummonMonsterByPos(11962, 121,145)
				AI:SummonMonsterByPos(11962, 121,147)
				AI:SummonMonsterByPos(11962, 121,149)
				AI:SummonMonsterByPos(11962, 121,151)
				AI:SummonMonsterByPos(11962, 121,153)
				AI:SummonMonsterByPos(11962, 123,145)
				AI:SummonMonsterByPos(11962, 123,147)
				AI:SummonMonsterByPos(11962, 123,149)
				AI:SummonMonsterByPos(11962, 123,151)
				AI:SummonMonsterByPos(11962, 123,153)
				
				AI:SetArray(9,150)
				AI:SetTimer(9,10000,9999)
		end
---------------------------------------------------------------------------  	
    if nIndex == 8 then
--?1?11961 
			AI:SummonMonsterByPos(11961, 112,156)
			AI:ScreenText("The Dragon Emperor has once again returned! Tremble in my presence!",2)
		end
		
		if nIndex == 9 then
			timeleft = AI:GetArray(9)
			if timeleft > 10 then
				timeleft = timeleft - 10
				AI:SetArray(9,timeleft)
				if timeleft <= 10 then
					AI:DelTimer(9)
				end
				msg = "Next wave of Dragon Emperor Legion: "..timeleft.." sec. "
				AI:ScreenText(msg,2)
			end
		end
		
	end
---------------------------------------------------------------------------  		       
    function Event_Thinking(nAI)
        local AI = GetMonsterAI(nAI)
        
        a = AI:GetArray(1)
        if a == 0 then
					AI:SetTimer(0,3000,1)
					AI:SetTimer(4,451000,3)
					AI:SetTimer(8,1503000,1)
 					AI:SetArray(1,1)
					AI:SetTimer(9,10000,1)
        end
    end